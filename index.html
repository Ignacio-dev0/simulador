<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Simulador de Crecimiento Bacteriano</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<main>
		<header>
			<h1>Simulador de Crecimiento Bacteriano</h1>
			<p>Selecciona temperatura, medio e intervalo para ajustar y graficar.</p>
		</header>

		<section class="panel">
			<h2>Filtros</h2>
			<div class="grid">
				<div>
					<label for="temperaturaSelect">Temperatura (°C)</label>
					<select id="temperaturaSelect">
						<option value="25">25</option>
						<option value="30">30</option>
						<option value="37">37</option>
					</select>
				</div>
				<div>
					<label for="medioSelect">Medio</label>
					<select id="medioSelect">
						<option value="limitado">limitado</option>
						<option value="rico">rico</option>
					</select>
				</div>
				<div class="range">
					<label for="tiempo">Hora (h)</label>
					<input type="range" id="tiempo" min="0" max="24" step="1" value="12">
					<span id="tiempoValor" class="range-value"></span>
				</div>
				
			</div>
			<div class="models" id="botonesModelo"></div>
			<div id="estado" class="status" hidden></div>
		</section>

		<div class="content-container">
			<!-- Panel izquierdo: Gráfico -->
			<div class="chart-panel">
				<div class="chart-container">
					<div class="chart-header">
						<h2 id="chart-title">Relación Hora vs Crecimiento</h2>
						
					</div>
				</div>
				<div class="grafico-container">
					<canvas id="grafico"></canvas>
					<!-- <canvas id="graficoComparativo"></canvas> -->
          		</div>
        	</div>
      	</div>

		<!-- Panel derecho: Información del modelo -->
      	<div class="info-panel">
        	<div class="model-selector">
          <h3>Seleccionar Modelo:</h3>
          <div class="model-buttons">
            <button class="model-btn active" data-modelo="lineal">Lineal</button>
            <button class="model-btn" data-modelo="cuadratico">Polinomica de 2° orden</button>
            <button class="model-btn" data-modelo="exponencial">Exponencial</button>
            <button class="model-btn" data-modelo="potencial">Potencial</button>
          </div>
					<hr style="margin:16px 0;border:none;border-top:1px solid #e0e0e0;" />
					<h3>Modelado por Tramos</h3>
					<div class="grid" style="grid-template-columns: 1fr 1fr; gap: 10px;">
						<div>
							<label for="modeloFase1">Fase 1 (0 → t_corte)</label>
							<select id="modeloFase1">
								<option value="exponencial">Exponencial</option>
								<option value="lineal">Lineal</option>
								<option value="cuadratico">Polinomica de 2° orden</option>
								<option value="potencial">Potencial</option>
							</select>
						</div>
						<div>
							<label for="modeloFase2">Fase 2 (t_corte → Hora)</label>
							<select id="modeloFase2">
								<option value="lineal">Lineal</option>
								<option value="cuadratico">Polinomica de 2° orden</option>
								<option value="exponencial">Exponencial</option>
								<option value="potencial">Potencial</option>
							</select>
						</div>
					</div>
					<div class="status" id="tcorte-info" hidden></div>
        </div>

        <div class="model-info">
          <h3 id="modelo-titulo">Modelo Lineal</h3>
          <div class="ecuacion-container">
            <h4>Ecuación del Modelo:</h4>
            <div class="ecuacion" id="ecuacion-modelo">y = a + bx</div>
          </div>
          <div class="bondad-ajuste">
            <h4>Bondad de Ajuste:</h4>
            <div class="metricas">
              <div class="metrica">
                <span class="label">Coeficiente R²:</span>
                <span id="r2-valor" class="valor">-</span>
              </div>
              <div class="metrica">
                <span class="label">R² Ajustado:</span>
                <span id="r2adj-valor" class="valor">-</span>
              </div>
              <div class="metrica">
                <span class="label">Error Estándar:</span>
                <span id="error-valor" class="valor">-</span>
              </div>
            </div>
          </div>

					<hr style="margin:16px 0;border:none;border-top:1px solid #e0e0e0;" />
					<div class="bondad-ajuste">
						<h4>Métricas por Fase</h4>
						<div class="metricas">
							<div class="metrica">
								<span class="label">Fase 1 - Ecuación:</span>
								<span id="ecuacion-fase1" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 1 - R²:</span>
								<span id="r2-fase1" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 1 - R² Ajustado:</span>
								<span id="r2adj-fase1" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 1 - Error:</span>
								<span id="error-fase1" class="valor">—</span>
							</div>
						</div>
						<div class="metricas" style="margin-top:10px;">
							<div class="metrica">
								<span class="label">Fase 2 - Ecuación:</span>
								<span id="ecuacion-fase2" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 2 - R²:</span>
								<span id="r2-fase2" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 2 - R² Ajustado:</span>
								<span id="r2adj-fase2" class="valor">—</span>
							</div>
							<div class="metrica">
								<span class="label">Fase 2 - Error:</span>
								<span id="error-fase2" class="valor">—</span>
							</div>
						</div>
					</div>
        </div>
		
	</main>

	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" integrity="sha384-Sse/HDqcypGpyTDpvZOJNnG0TT3feGQUkF9H+mnRvic+LjR+K1NhTt8f51KIQ3v3" crossorigin="anonymous"></script>
	<script src="script.js"></script>
</body>
</html>
